<div fxLayout="column" fxLayoutAlign="center" class="flexcolumn">
  <section class="titleheader mat-typography">
    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="space-around center">
      <div fxFlex="0 0 40%" fxFlex.lt-sm="0 0 60%" fxFlex.gt-lg="0 0 30%">
        <img class="margin-top-10 logo-wv" src="assets/img/logoUSAID.png" alt="USAID">
      </div>
      <div fxFlex="0 0 25%" fxFlex.lt-sm="0 0 35%" fxFlex.gt-lg="0 0 20%">
        <img class="margin-top-10 logo-wv" src="assets/img/logovenes.png" alt="VenEsperanza">
      </div>
    </div>
    <h2 *ngIf="titleheader" class="text-blue text-bold margin-top-20">
      Encuesta de identificación para familias migrantes venezolanas y colombianas retornadas recién llegadas a
      Colombia, para programas humanitarios ofrecidos por organizaciones no gubernamentales.
    </h2>
    <h2 *ngIf="titleheader" class="text-blue text-bold margin-top-20">
      Completar este formulario no modifica tu estatus migratorio en Colombia
    </h2>
    <h2 *ngIf="thanksmessage || finishmessage" class="margin-top-20">¡Gracias por participar!</h2>
    <h3 class="text-bold" *ngIf="thanksmessage && form === 1">
      Si eres preseleccionado/a el programa <span class="text-blue text-bold">#VenEsperanza</span> se comunicará contigo
    </h3>
    <h3 class="text-bold margin-bottom-0" *ngIf="thanksmessage">
      Recuerda:
    </h3>
    <h3 class="text-bold" *ngIf="thanksmessage">
      En el programa <span class="text-blue text-bold">#VenEsperanza</span> no cobramos ni pedimos remuneración por
      ningún servicio a la comunidad, no tenemos intermediarios.
    </h3>
  </section>
  <section *ngIf="termnsandconditions" fxLayout="row">
    <div class="termnsandconditions" fxFlex="100%">
      <h3 class="text-underline">
        Términos de participación
      </h3>
      <p>
        El objetivo de esta encuesta es valorar si es posible que seas elegido/a para ingresar a programas de asistencia
        humanitaria en el momento en que llegas a tu destino.
      </p>
      <p class="text-bold text-red">
        Este proceso es gratuito.
      </p>
      <p>
        Somos un programa de atención humanitaria y <strong>no compartiremos tus datos personales con el Gobierno
          Colombiano,</strong> por lo que completar este formulario <strong>no tiene ningún efecto legal sobre tu
          condición migratoria o tu estatus legal en Colombia.</strong>
      </p>
      <p>
        <strong>Ten presente que solo te puedes registrar una única vez en este proceso.</strong> Hacer registros
        múltiples podría <strong>ponerte en riesgo de quedar descalificado del programa <span
            class="text-blue text-bold">#VenEsperanza</span>.</strong>
        Por favor registra en este mismo formulario a todos los miembros de tu familia que actualmente te acompañan,
        <strong>no hagas registros individuales pues podría resultar en registros duplicados que serían
          descalificados.</strong>
      </p>
      <p>
        Tu participación es voluntaria. Puedes decidir no participar o retirarte en cualquier momento del proceso.
        Diligenciar este formulario te tomará aproximadamente 10 minutos.
      </p>
      <p>
        Responder a estas preguntas no quiere decir que tú y tu familia serán automáticamente seleccionados. Si eres
        preseleccionado, serás contactado por la organización que represente el programa <span
          class="text-blue text-bold">#VenEsperanza</span> para continuar con
        el proceso, por eso <strong>es muy importante que proporciones en este formulario todos tus datos personales de
          contacto, para poder localizarte en caso de resultar elegido para el programa.</strong>
      </p>
      <p>
        Tu información es confidencial, sin embargo, el programa <span class="text-blue text-bold">#VenEsperanza</span>
        podría tener que compartir parte de tus
        datos de manera segura con otras organizaciones humanitarias, nuestro donante, las Naciones Unidas y otras ONG’s
        nacionales e internacionales, para evitar posibles casos de atención duplicada o fraude, para referir tu hogar a
        servicios adicionales y para contribuir en iniciativas de investigación conjuntas de carácter humanitario.
      </p>
      <p>
        Este proceso de identificación de datos incluye preguntas sobre tu situación actual. <strong>La información que
          entregues será verificada por la organización.</strong>
      </p>
      <h3 class="text-underline">Por favor responde con tus datos reales</h3>
      <p class="url-text">
        Para conocer la política de tratamiento de datos personales visita el enlace:
        <a target="_blank" href="https://venesperanza.immap.org/assets/politica_tratamiento_informacion_personal.pdf">
          https://venesperanza.immap.org/assets/politica_tratamiento_informacion_personal.pdf</a>.
      </p>
    </div>
  </section>
  <div *ngIf="form && quentionaccepttermns">
    <p>
      Cuando haces clic en la casilla <strong>"Si autorizo"</strong>, aceptas el tratamiento de tus datos personales al
      programa <span class="text-blue text-bold">#VenEsperanza</span>, como responsable de tu información
    </p>
    <p>
      <mat-checkbox class="example-margin" color="primary" (change)="toggleAutorTrat($event)">
      </mat-checkbox>
      Autorizo el tratamiento de mis datos personales, conforme a lo informado previamente.
    </p>
    <p>
      <mat-checkbox class="example-margin" color="primary" (change)="toggleAutorCond($event)">
      </mat-checkbox>
      Entiendo y acepto los términos y condiciones establecidos para participar en el programa.
    </p>
    <p *ngIf="autorizationPolicy && autorizationConditions">
      A continuación, te pediremos completar los datos de todas las personas de tu familia que están viajando contigo,
      empezando por tus datos. Recuerda que este formulario debe ser completado por familia y no de forma individual,
      pues los datos duplicados podrían correr el riesgo de quedar descalificados del programa.
    </p>
    <h3 *ngIf="autorizationPolicy && autorizationConditions" class="text-bold text-blue">
      ¿Estás de acuerdo con las condiciones expuestas anteriormente y autorizas a el programa <span
        class="text-blue text-bold">#VenEsperanza</span> para tratar tus datos personales?
    </h3>
    <div *ngIf="autorizationPolicy && autorizationConditions" class="margin-top-20 text-center">
      <button mat-raised-button color="primary" (click)="termsAccept(true)" class="accept-button">SI</button>
      <button mat-raised-button (click)="termsAccept(false)">NO</button>
    </div>
  </div>
  <div *ngIf="!form" class="margin-top-20 text-center">
    <mat-spinner></mat-spinner>
  </div>
  <button *ngIf="!autorizationPolicy || !autorizationConditions" mat-raised-button color="warn"
    class="btn-save margin-top-20" routerLink="/">
    Cancelar
  </button>
  <div *ngIf="formPrincipal">


    <div class="card-container" *ngIf="formPrincipal" fxLayout="row">
      <form [formGroup]="llegadaDestinoFormGroup">
        <!--<ng-template matStepLabel>DATOS DEL ENCUESTADO, DATOS DE LLEGADA Y DESTINO</ng-template>-->

        <!--Datos Encuestado-->

        <div class="margin-bottom-10">
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Primer Nombre</mat-label>
            <input matInput placeholder="Primer Nombre" formControlName="firstNameCtrl" required>
          </mat-form-field>
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Segundo Nombre</mat-label>
            <input matInput placeholder="Segundo Nombre" formControlName="secondNameCtrl">
          </mat-form-field>
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Primer Apellido</mat-label>
            <input matInput placeholder="Primer Apellido" formControlName="lastNameCtrl" required>
          </mat-form-field>
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Segundo Apellido</mat-label>
            <input matInput placeholder="Segundo Apellido" formControlName="secondLastNameCtrl">
          </mat-form-field>

          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Tipo de Documento:</mat-label>
            <mat-select formControlName="tipoDocumentoCtrl" (selectionChange)="selectTipoDocumento($event)" required>
              <mat-option *ngFor="let documento of tipoDocumentos" [value]="documento.name">
                {{documento.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
            *ngIf="llegadaDestinoFormGroup.controls.tipoDocumentoCtrl.value == 'Otro' ">
            <mat-label>¿Cuál?* (Indicar tipo, ejemplo: pasaporte)</mat-label>
            <input matInput placeholder="Ejemplo: Pasaporte" formControlName="otroTipoDocumentoCtrl" required>
          </mat-form-field>

          <mat-form-field *ngIf="numeroDocumento" class="cualotrotipodocumento2" fxLayout.xs="column"
            fxFlex.lt-xs="100">
            <mat-label>Número de Documento</mat-label>
            <input matInput placeholder="Número de Documento" type="number" formControlName="numeroDocumentoCtrl"
              required minlength="3">
          </mat-form-field>
        </div>


        <div class="margin-bottom-10" fxLayout.xs="column" fxFlex.lt-xs="100">
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <!--<p>¿Cómo encontraste este formulario?*</p>-->
            <label>¿Cómo encontraste este formulario?*</label>

            <mat-select formControlName="comoLlegoAlFormularioCtrl" (selectionChange)="comoLlegoAlFormulario($event)"
              required>
              <mat-option *ngFor="let opcion of opcionesComoLlegoAlFormulario" [value]="opcion.name">
                {{opcion.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>


          <!--<Label>¿En qué fecha tu y tu grupo familiar llegaron al país?*</Label>-->

          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">

            <label>¿En qué fecha tu y tu grupo familiar llegaron al país?*</label>

            <input matInput [matDatepicker]="pickertres_i" [max]="myDate" Format="'YYYY-MM-DD'"
              formControlName="llegadaDestinofechaLlegadaCtrl" required>
            <mat-datepicker-toggle matSuffix [for]="pickertres_i"></mat-datepicker-toggle>
            <mat-datepicker #pickertres_i></mat-datepicker>

          </mat-form-field>

          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">

            <!--<mat-label>Seleccione una opción</mat-label>-->
            <Label>¿Cuál es tu destino final dentro de Colombia?*</Label>
            <mat-select formControlName="llegadaDestinoDepartamentoCtrl"
              (selectionChange)="selectDepartamentoLlegadaDestino($event)" required>
              <!--
              <mat-option [value]="'nodefinido'">No estoy seguro/a</mat-option>
              <mat-option *ngFor="let departamento of departamentosList" [value]="departamento.id">
                {{departamento.nombre}}
              </mat-option>-->
              <mat-option *ngFor="let destino of destinoFinalPrioridades" [value]="destino.nombre">
                {{destino.nombre}}
              </mat-option>
            </mat-select>
          </mat-form-field>

        </div>


        <div class="margin-bottom-10">
          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">

            <mat-label>
              Número de Contacto

            </mat-label>
            <!--numeroContactoCtrl-->
            <input matInput type="number" formControlName="numeroContactoCtrl" placeholder="Ej: 3131234567" required
              minlength="7" maxlength="10">
          </mat-form-field>
        </div>

        <div class="margin-bottom-10">
          <!--numeroEntregadoVenEsperanzaCtrl-->

          <mat-radio-group class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
            aria-label="Selecciona una opción" formControlName="numeroEntregadoVenEsperanzaCtrl"
            (change)="numeroEntregadoVenEsperanza($event)" required>
            <label>¿El número de contacto ha sido entregado por VenEsperanza?*:</label>
            <div>
              <mat-radio-button value="1">Si</mat-radio-button>
              <mat-radio-button value="0">No</mat-radio-button>
            </div>
          </mat-radio-group>
        </div>

        <div class="margin-bottom-10">
          <!--lineaContactoPropiaCtrl-->
          <mat-radio-group class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
            aria-label="Selecciona una opción" formControlName="lineaContactoPropiaCtrl"
            (change)="lineaContactoPropia($event)" required>
            <label>¿Esta línea de contacto es propia?*:</label>
            <div>
              <mat-radio-button value="si">Si</mat-radio-button>
              <mat-radio-button value="no">No</mat-radio-button>
            </div>
          </mat-radio-group>
        </div>

        <div class="margin-bottom-10">

          <!--lineaContactoAsociadaAWhatsappCtrl-->
          <!--
          <mat-radio-group class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
            aria-label="Selecciona una opción" formControlName="lineaContactoAsociadaAWhatsappCtrl"
            (change)="lineaContactoPropiaAsociadaWhatsapp($event)" required>-->
          <mat-radio-group class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
            aria-label="Selecciona una opción" formControlName="lineaContactoAsociadaAWhatsappCtrl" required>
            <label>¿Esta línea de contacto está asociada a WhatsApp?*:</label>
            <div>
              <mat-radio-button value="si">Si</mat-radio-button>
              <mat-radio-button value="no">No</mat-radio-button>
            </div>
          </mat-radio-group>


        </div>

        <div class="margin-bottom-10">


          <mat-form-field class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100">
            <mat-label>Escribe un correo electrónico donde te podamos contactar*</mat-label>
            <!--<mat-label>Ejemplo: contacto@contacto.com</mat-label>-->
            <!--correoCtrl-->
            <input matInput formControlName="correoCtrl" type="email"
              pattern="[a-zA-Z0-9_-]+([.][a-zA-Z0-9_-]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}"
              placeholder="">
          </mat-form-field>
        </div>


        <div class="margin-top-20" class="cualotrotipodocumento2" fxLayout.xs="column" fxFlex.lt-xs="100"
          *ngIf="llegadaDestinoFormGroup.status == 'VALID'">
          <button color="primary" mat-raised-button [disabled]="saving"
            (click)="enviarInfoFormulario(llegadaDestinoFormGroup)">
            {{saving ? 'Guardando...' : 'Guardar'}}
          </button>
          <p>
            Oprime el botón "Guardar" para salvar la información y finalizar.
          </p>
        </div>

      </form>
    </div>

  </div>
</div>